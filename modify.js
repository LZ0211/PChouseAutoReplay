var Default = {
    "通用":[
        '谁能够指点一下？',
        '有没有人知道？',
        '有没有人了解？',
        '谁知道？',
        '谁能够说说看？',
        '有人晓得吗？',
        '谁晓得？',
        '谁能够说一下？',
        '有网友晓得吗？',
        '有谁说一下？',
        '哪位晓得？',
        '谁清楚？',
        '有网友清楚吗？',
        '哪位了解？',
        '有人清楚吗？',
        '哪位清楚？',
        '有谁清楚？',
        '谁说一下？',
        '哪位知道？',
        '有人了解吗？',
        '有没有网友清楚？',
        '谁能给点建议？',
        '有没有网友了解？',
        '有高手清楚吗？',
        '有没有人清楚？',
        '哪位说一下？',
        '有人知道吗？',
        '有谁说说看？',
        '有没有人晓得？',
        '谁能说说看？',
        '谁了解？',
        '有谁晓得？',
        '谁说说看？',
        '有谁知道？',,
        '有网友了解吗？',
        '有没有网友晓得？',
        '哪位能够说说看？',
        '有哪位高手了解？',
        '有哪位能够说说看？',
        '有哪位清楚？',
        '哪位网友晓得？',
        '有哪位能说说看？',
        '有哪位高手晓得？',
        '有哪位晓得？',
        '有哪位了解？',
        '哪位网友了解？',
        '哪位能给点建议？',
        '有网友知道吗？',
        '有哪位知道？',
        '有谁了解？',
        '谁能说一下？',
        '哪位能说说看？',
        "麻烦说说。",
        "能不能具体说一下。",
        "麻烦具体说一下。",
        "麻烦详细说一下。",
        "希望详细说说。",
        "麻烦详细说说。",
        "求告知",
        "这个谁了解？",
        "有谁清楚？",
        "来说说",
        "麻烦具体说说",
        "谁晓得啊？",
        "谁了解",
        "有人知晓的吗",
        "希望给点建议",
        "哪位有经验？",
        "求大神解答",
    ],
    "求推荐":[
        "有何推荐？",
        "求推荐。",
        "求给我介绍一下。",
        "求大神推荐啊！",
        "推荐下呗！",
        "求推荐一个",
        "有没有好的推荐呢？",
        "麻烦推荐一下！",
        "各位朋友推荐一下",
        "有经验的给推荐一下呗！",
        "请大家帮忙推荐一个！",
        "有没有推荐的？",
        "有什么推荐？",
    ],
    "要联系":[
        "有没有联系方式？",
        "联系方式多少？",
        "联系方式是什么？",
        "求联系方式。",
        "有联系方式吗？",
        "怎么联系？",
        "联系方式有没有？",
        "有具体联系方式吗？",
        "谁有联系方式？",
        "怎么联系呢？",
        "求推荐。",
        "有没有好一点的推荐一下",
    ],
    "要地址":[
        "谁知道地址？",
        "在哪里？",
        "具体地址多少？",
        "谁有地址？",
        "谁知道在哪？",
        "求地址。",
        "怎么找啊。",
        "知道的能说说地址吗？",
        "有地址吗？",
        "在哪儿呢？",
        "有没有地址呢？",
    ],
    "要质量":[
        "要求质量比较有保障的。",
        "要有保障啊！",
        "最好是质量好的！",
        "质量要有保证哦！",
        "质量怎么样？",
    ],
    "想参考":[
        "我想参考参考。",
        "想参考一下。",
        "能给个参考吗？",
        "我想参考一下。",
        "希望给个参考。",
        "有谁可以给提供点参考",
    ],
    "哪家好":[
        "哪家最好？",
        "哪家比较好？",
        "哪家好一点",
    ],
    "要性价比":[
        "有没有性价比高一点。",
        "找性价比高的。",
    ],
    "要专业的":[
        "要比较专业的。",
        "要专业一点的。",
        "哪家技术比较好？",
    ],
    "有经验的":[
        "要经验比较丰富的！",
    ],
    "价格多少":[
        "要多少费用",
        "需要多少费用的呢",
        "价格怎么样？",
        "价格如何",
        "一般多少钱",
    ],
    "预算多少":[
        "预算要多少？",
        "一般需要多少钱呢",
        "成本贵吗",
        "花费预算大概是多少",
        "预算多少",
        "费用预算多少啊",
        "预算多少呢",
    ],
    "如何选择":[
        "怎么选择呢？",
        "如何选择呢？",
        "有什么选择技巧？",
    ],
    "如何评估":[
        "如何评估啊？",
        "怎么判断呢？",
        "怎么评估",
    ],
    "怎么找":[
        "怎么找啊？",
        "上哪找？",
        "哪里可以找到？",
    ],
    "报价":[
        "贵不贵？",
        "贵吗？",
        "麻烦报个价。",
        "麻烦报一下价",
        "什么价位？",
        "谁有报价？",
        "参考价多少？",
        "有参考价吗？",
        "有参考吗？",
        "哪位提供一下。",
        "谁知道市场价？",
        "市面上价格是多少？",
        "谁提供下？",
        "谁有价格表。",
        "哪家的报价实惠一些？",
        "网上会便宜一点吗？",
        "哪家的报价比较低",
        "谁可以给个参考价格？",
        "一般在什么价位？",
        "谁知道大概价格啊",
        "请大家给我点参考价格",
        "麻烦报报价",
        "知道的给个报价过来",
    ],
    "型号报价":[
        "麻烦附上型号报价！",
        "型号和报价分别多少？",
        "要准确到型号规格",
        "要规格和型号。",
    ],
    "质量如何":[
        "质量怎么样？",
        "质量好吗？",
        "谁有具体价格？",
        "质量好不好？",
        "用起来怎么样啊？",
        "好用吗？",
        "性能如何",
        "质量有保证吗",
    ],
    "性价比如何":[
        "性价比如何啊？",
        "性价比高不高？",
    ],
    "哪里有卖":[
        "哪里有的卖？",
        "上哪买呢？",
        "上哪买比较划算？",
        "哪里比较便宜？",
        "哪家比较便宜？",
        "哪里的质量最好呢",
        "买哪家的比较有保障？",
        "在哪里可以买到？",
    ],
    "耐用吗":[
        "耐用吗？",
        "耐不耐用？",
        "寿命多久？",
    ],
    "值不值得买":[
        "值不值得买？",
        "值得购买吗？",
        "有谁买过？",
        "你们觉得怎么样",
        "要不要入手？",
        "要不要购买？",
    ],
    "准备买":[
        "正打算入手。",
        "正打算购买。",
    ],
    "装修如何省钱":[
        "如何装修最实惠",
        "如何装修最省钱",
        "如何装修更实惠",
        "如何装修更实惠省钱",
        "如何装修最安全",
        "怎样才能省钱？",
        "怎样装修比较省钱？",
        "如何装修更省钱？",
        "如何装修更实惠？",
        "怎样更实惠省钱",
        "是简装还是精装呢？",
        "求装修技巧",
        "多少钱算简装",
        "怎样才能更省钱啊",
        "全包价格多少",
        "要怎样才能节约成本",
        "怎么装修啊！",
        "哪种装修风格便宜"
    ],
    "注意事项":[
        "要注意什么？",
        "有哪些方面需要注意？",
        "有什么要注意的？",
        "注意事项是什么？",
        "需要注意哪些问题？",
        "有哪些值得注意的呢",
        "主要有什么注意事项",
        "注意事项有哪些呢",
        "有哪些注意事项",
        "需要关注哪些点",
        "要注意哪些方面",
        "有什么值得注意的",
        "需要注意哪些细节",
        "应该注意什么",
        "需要关注哪些点",
    ],
    "选择装修风格":[
        "哪一种风格比较好",
        "哪种风格比较好看",
        "风格有哪些",
        "选择哪种风格啊",
        "风格主要有哪些？",
        "有什么装修理念呢？",
        "什么风格比较合适？",
        "有没有效果图",
        "推荐什么样的装修风格",
    ],
    "设计":[
        "设计要考虑哪些因素",
        "有没有设计方案",
        "有没有设计效果图",
        "要如何设计",
        "有哪些设计方案？",
        "设计要注意哪些问题"
    ],
    "如何布局":[
        "如何布局",
        "布局有什么讲究",
        "如何设计布置",
        "要怎么布置？",
    ],
    "哪些特点":[
        "有哪些特点",
        "包括哪些特点？"
    ],
    "装修材料":[
        "材料需要使用什么",
        "有哪些材料费用"
    ],
    "预算内容":[
        "预算包括哪些方面？",
        "预算包括什么？",
        "有详细的预算清单吗？",
        "材料和人工分别多少？",
        "都包括哪些项目？",
        "有多少项工程？",
        "每项造价多少钱",
        "都包括了哪些项目呢？",
        "项目价目表谁有呢",
        "谁有费用的详细类目表呢",
        "一般怎么算费用的呢",
        "预算有哪些？",
        "大概有哪些费用？",
        "需要的费用有哪些",
        "哪位来帮我算下啊",
        "谁来给我算一下",
        "有人知道具体花费多少钱啊",
        "大家帮我预算一下",
        "大概总造价多少钱",
        "有哪些费用需要考虑",
        "基本费用是什么",
        "怎么算费用呢",
        "花钱最多的是什么",
        "需要哪些费用呢",
        "谁有预算表啊",
        "最便宜要多少钱",
        "哪位知道具体的收费啊",
        "可以从哪几方面考虑呢",
        "怎样计算费用呢",
        "预算多少钱比较好",
        "都包括了哪些项目呢",
        "如何收费呢",
        "不同档次费用差别高吗",
        "不同档次有什么区别",
    ],
    "装修时间":[
        "多长时间能装修完？",
        "大约需要多久？",
        "正在准备装修中",
        "大概要多久装修时间",
        "时间多久可以搞定"
    ],
    "流程":[
        "具体流程是什么",
        "流程怎么走？",
        "流程是什么",
        "有哪些步骤呢"
    ],
    "技巧":[
        "有什么技巧吗？"
    ],
    "风水":[
        "有哪些风水讲究",
        "有哪些风水禁忌",
        "有什么讲究？",
        "有什么建议？",
        "有哪些禁忌",
        "有什么禁忌",
        "具体有什么影响？",
        "有哪些讲究",
        "怎么破解",
        "如何破解",
        "有什么要点",
    ],
    "选择公司":[
        "找哪家公司好",
        "哪家公司会好点",
        "哪家公司报价低呢",
        "找哪家好呢？",
        "找什么公司比较好呢？"
    ],
    "品牌选择":[
        "哪个牌子比较好",
        "什么牌子最好",
        "推荐什么牌子",
        "都有哪些牌子",
        "哪款值得信赖",
        "买什么牌子比较好",
        "哪些可以推荐一下",
        "什么牌子的好",
        "哪一个牌子的好呢",
        "有什么好的品牌啊",
        "哪款值得信赖的",
        "哪个牌子比较好",
        "什么品牌的最好用",
        "什么品牌的比较好呢",
        "大家都用什么品牌呢",
        "哪个最好呢",
        "哪个比较靠谱",
        "选什么品牌的好呢",
        "买什么品牌最省心",
        "哪个比较好的",
        "哪个牌子的最好",
        "哪个性价比高",
        "哪家最好呀",
        "对品牌不是很懂",
        "哪个牌子的更好",
        "哪个质量比较好",
        "哪种性价比更高呢",
        "哪些比较好",
        "大家推荐下好的品牌啊",
        "大家推荐一些性价比高的啊",
        "哪一个牌子比较好呢",
        "哪一个价位比较合理的呢",
        "哪一个牌子做得最好呢",
        "哪一个牌子做的好呢",
        "哪些品牌口碑最好",
        "哪个牌子质量最好",
        "哪个牌子比较热卖",
        "哪一家做的比较好呢",
        "哪个品牌的产品质量最好",
        "哪一个牌子价格合适呢",
        "求大家推荐给我比较好的牌子",
        "要选什么牌子好啊",
        "什么牌子的质量最好呢",
        "哪一个牌子口碑好呢",
        "哪个质量最好",
        "哪一个牌子质量好一点呢",
        "哪个牌子性价比高点啊",
    ],
    "利率":[
        "最好有公式",
        "怎么计算呢",
        "有什么变动",
        "怎么计算",
        "怎么计算的",
        "谁知道可以告诉我啊",
        "有人知道具体的数值是多少",
        "有人知道具体的计算方法吗",
        "现在的行情如何",
        "公式是怎么样的",
    ],
    "需要什么条件": [
        "需要什么条件吗",
        "要什么证件吗",
        "需要什么条件",
        "要什么条件呢",
        "需要满足什么条件",
        "需要什么条件呢",
        "申请需要什么条件",
        "需要什么证件",
        "需要什么条件吗",
        "要满足什么条件",
        "要满足什么要求",
        "要满足什么",
        "要符合什么条件"
    ],
    "可以贷款多少": [
        "可以贷款多少呢",
        "可以贷多少",
        "最高可以贷款多少",
        "可以贷款多少的",
        "最高可以贷款多少啊"
    ],
    "利率多少": [
        "利率是多少呢",
        "利息是多少呢",
        "利息是多少",
        "利率是多少",
        "利率多少",
        "利率是多少的",
        "利率是多少啊",
        "利率是多少哦",
        "利率又是多少的"
    ],
    "什么规定": [
        "有什么规定吗",
        "有什么不同吗",
        "有什么规定",
        "有什么规定呢"
    ],
    "什么手续": [
        "需要什么手续",
        "有什么手续",
        "需要什么手续呢",
        "请问都要什么手续",
    ],
    "怎么办理": [
        "怎么办理呢",
        "怎么办理的呢",
        "要怎么办理啊",
        "有人知道该怎么办理啊",
        "有人知道该怎么处理啊",
        "谁知道该怎么办理啊",
        "谁知道该怎么处理啊",
        "谁知道该怎么办啊",
        "有人知道该怎么办啊",
        "哪位知道该怎么办啊",
        "有人知道如何办理啊",
        "有人怎么办理啊",
        "谁知道怎么办理啊",
        "有人知道怎么办理啊",
        "谁知道应该怎么办理啊",
        "有人知道是怎么操作啊",
        "有人知道该如何处理啊",
        "有人知道该如何操作啊",
        "哪位知道该如何申请",
        "哪位知道该如何办理啊",
        "哪位知道该如何操作啊",
        "有人知道如何处理啊",
        "有人知道如何查询啊",
        "有人知道如何确定啊",
        "有人知道该怎么操作啊"
    ],
    "首付多少": [
        "首付是多少",
        "首付多少",
        "首付要多少",
        "最低首付是多少啊"
    ],
    "具体数目": [
        "谁知道具体的数目啊",
        "谁知道具体数目啊",
        "谁知道具体是什么啊",
        "谁知道具体是多少啊"
    ],
    "什么情况": [
        "有人知道什么情况啊",
        "谁知道是什么情况啊",
        "谁知道什么情况啊",
        "有人知道是什么政策啊",
        "有人知道是什么情况啊",
        "有人知道具体的情况啊",
        "大家知道什么情况啊",
        "哪位知道详细情况啊",
        "哪位了解详细的情况啊",
        "有人知道详细的情况吗",
        "哪位告诉我详细情况啊",
        "有人知道详细情况吗",
        "哪位了解详细情况啊",
        "谁知道详细情况啊",
        "哪位知道是什么情况啊",
        "哪位知道具体的情况啊",
        "哪位知道这个情况"
    ],
    "怎么计算": [
        "哪位知道该如何计算啊",
        "谁知道该如何计算啊",
        "谁知道如何计算啊",
        "怎么计算",
        "怎么计算的",
        "要怎么计算",
        "怎么换算"
    ],
    "去哪里办理": [
        "去哪里办理",
        "在哪里办理",
        "到哪里办理的",
        "去哪里办",
        "要去哪里办理"
    ],
    "多少钱":[
        "是不是很高啊！",
        "需要多少费用",
        "大概需要多少",
        "费用是多少",
        "会很贵吗",
        "一般会是多少",
        "会不会很高哦",
        "是不是很贵啊",
        "价格如何",
        "一般多少钱",
    ],
    "税费项目":[
        "包括哪些的呢",
        "具体明细是怎样的",
        "各项税费多少",
        "分别是多少",
        "包含什么",
        "税费明细是怎样",
        "具体是哪些",
        "需要缴纳多少",
        "有什么税种啊",
        "包含哪些税",
        "都有哪些契税",
        "包含哪些税的",
        "有哪些税呢",
        "是哪几种税",
    ],
    "有什么优惠": [
        "这个有什么优惠吗",
        "有什么优惠",
        "还有什么优惠吗",
        "有没有什么优惠政策",
        "有什么优惠吗",
        "有没有什么优惠",
    ],
    "标准尺寸":[
        '有哪些尺寸要求呢',
        '有什么要求的吗',
        '标准是多少',
        '有哪些规格的呢',
        '标准是什么',
        '有什么标准吗',
        '一般是多大的呢',
        '一般多少就可以了呢',
        '有固定的尺寸',
        '有没有统一的标准',
        '每个地方的规格一样吗',
        '有人知道具体的标准啊',
        '适用的规格是怎样的',
        '有哪些规格的呢',
        '标准的尺寸是多大的',
        '有什么标准吗',
        '有没有标准尺寸',
        '有没有规定的',
        '有没有明确的规定',
        '有什么标准吗',
        '有具体的数据提供吗',
        '有什么要求的吗',
        '大概要多长适合',
        '有规定吗',
        '多少才合适',
        '有没有一个特定的标准',
        '标准尺寸是多少',
        '规格有哪些的呢',
        '尺寸标准是怎样的',
        '有标准尺寸要求吗',
    ]
};

var table = {
    "公司":[
        "{想参考}",
        "{哪家好}",
    ],
    "公司怎么样":[
        "{要联系}",
        "{要地址}",
        "{想参考}",
        "{价格多少}",
        "{预算多少}",
        "{哪家好}",
    ],
    "哪家公司":[
        "{求推荐}",
        "{要联系}",
        "{要地址}",
        "{想参考}",
    ],
    "装修公司哪家好":[
        "{求推荐}",
        "{要联系}",
        "{要地址}",
        "{要质量}",
        "{想参考}",
        "{哪家好}",
        "{要性价比}",
        "{要专业的}",
        "{有经验的}",
        "{价格多少}",
        "{预算多少}",
        "{如何评估}"
    ],
    "价格多少":[
        "{报价}",
        "{准备买}",
        "{值不值得买}",
    ],
    "装修":[
        "{报价}",
        "{装修如何省钱}",
        "{选择装修风格}",
        "{注意事项}",
        "{预算内容}",
        "{装修时间}",
        "{选择公司}",
        "{流程}",
    ],
    "十大品牌":[
        "{性价比如何}",
        "{值不值得买}",
        "{质量如何}",
        "{报价}",
        "{如何选择}",
        "{品牌选择}"
    ],
    "品牌":[
        "{性价比如何}",
        "{报价}",
        "{如何选择}",
        "{品牌选择}"
    ],
    "风水":[
        "{注意事项}",
        "{技巧}",
    ],
    "公积金利率":[
        "{利率}"
    ],
    "贷款":[
        "{注意事项}",
        "{流程}",
        "{去哪里办理}",
        "{怎么计算}",
        "{具体数目}",
        "{什么情况}",
        "{首付多少}",
        "{哪几种}",
        "{怎么办理}",
        "{什么手续}",
        "{什么规定}",
        "{利率多少}",
        "{可以贷款多少}",
        "{需要什么条件}"
    ],
    "哪里买":[
        "{报价}",
        "{哪家好}",
        "{求推荐}",
        "{要联系}",
        "{要地址}",
        "{要质量}",
        "{想参考}",
        "{哪家好}",
        "{要性价比}",
        "{品牌选择}"
    ],
    "交哪些税":[
        "{注意事项}",
        "{流程}",
        "{去哪里办理}",
        "{怎么计算}",
        "{什么情况}",
        "{哪几种}",
        "{怎么办理}",
        "{什么手续}",
        "{什么规定}",
        "{多少钱}",
        "{税费项目}",
        "{有什么优惠}"
    ],
    "计算交税":[
        "{怎么办理}",
        "{什么手续}",
        "{什么规定}",
        "{去哪里办理}",
        "{多少钱}",
        "{税费项目}",
        "{有什么优惠}"
    ],
    "交税":[
        "{注意事项}",
        "{流程}",
        "{怎么办理}",
        "{什么手续}",
        "{什么规定}",
        "{去哪里办理}",
        "{多少钱}",
        "{税费项目}",
        "{有什么优惠}"
    ],
    "尺寸":[
        "{标准尺寸}",
        "{怎么计算}",
        "{注意事项}",
        "{型号报价}",
        "{报价}",
        "{价格多少}",
        "{想参考}",
        "{求推荐}",
        "{品牌选择}"
    ],
    "违约金":[
        "{怎么计算}",
        "{具体数目}",
        "{什么情况}",
    ]
};

var keyWords = {
    "任意":".*",
    "装修公司哪家好":"装修&公司&哪家好",
    "设计公司哪家好":"设计&公司&哪家好",
    "哪家公司":"公司&哪家",
    "公司":"公司",
    "灯具":"灯|照明",
    "价格":"价格|价钱|多少钱|收费|费用|成本",
    "价格多少":"{价格}&(多少|高不高|便宜|贵)",
    "装修价格":"{装修}&{价格}",
    "装修价格多少":"{装修}&{价格多少}",
    "装修":"装修|装潢",
    "如何装修":"{如何}&{装修}",
    "公积金":"公积金",
    "贷款":"贷款",
    "利率":"利率",
    "公积金利率":"{公积金}&{利率}",
    "公积金贷款":"{公积金}&{贷款}",
    "如何":"如何|怎样",
    "十大品牌":"十大&{品牌}",
    "哪里买":"哪里买|哪里有买|哪有买|哪有卖|哪里卖|哪里有卖",
    "交税":"(交|缴)&税",
    "交哪些税":"{交税}&(哪些|什么|明细|多少)",
    "计算交税":"{交税}&算",
    "风水":"风水|避讳|忌讳|格局|运势|布局",
    "品牌":"品牌|牌子",
    "尺寸":"尺寸|多长|长度|高度|宽度",
    "床尺寸":"{尺寸}&床",
    "注意事项":"(注意|关注)&(事项|细节|方面|需要注意|值得注意)",
    "水电":"水电",
    "怎么样":"怎么样",
    "公司怎么样":"公司&{怎么样}",
    "水电价格":"{水电}&{价格}",
    "购买":"购买",
    "违约金":"违约金",
    "品牌灯具怎么样":"~{价格}&{照明品牌}&{灯具}&怎么样",
    "非品牌灯具价格多少":"~{照明品牌}&{灯具}&{价格}&多少"
};

function Token(rule){
    var fn = "return ("
    fn += rule
        .replace(/([^|&\(\)~]+)/g,function ($,$1){
            var found = $1.match(/\{([^{}]+)\}/);
            if(found){
                return 'this["'+ found[1] +'"](text)';
            }else {
                return "text.match(/"+$1+"/i)";
            }
        })
        .replace(/&/g," && ")
        .replace(/~/g," ! ")
        .replace(/\|/g," || ");
    fn += ")";
    return new Function("text",fn)
}

for (var x in keyWords){
    keyWords[x] = Token(keyWords[x]);
}

function getFix(array){
    var res = [];
    array.map(key=>{
        key = key.replace("{","").replace("}","");
        return Default[key];
    }).forEach(values=>{
        res = res.concat(values);
    });
    return res;
}

module.exports = function (text){
    var res = [];
    for (var x in table){
        var fn = keyWords[x].bind(keyWords);
        if (fn(text)){
            table[x].forEach(v=>{
                if (!~res.indexOf(v)){
                    res.push(v);
                }
            });
        }
    }
    if (res.length == 0){
        res.push("{通用}");
        res.push("{注意事项}")
    }
    var options = getFix(res);
    return options;
}